{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "VedtakPerioderResponse",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "vedtakId": {
        "type": "string",
        "description": "Id for vedtaket, enten fra arena eller tpsak"
      },
      "rettighet": {
        "type": "string",
        "enum": ["TILTAKSPENGER", "TILTAKSPENGER_OG_BARNETILLEGG"],
        "description": "Rettigheten fra vedtaket"
      },
      "periode": {
        "$ref": "#/$defs/periode"
      },
      "kilde": {
        "type": "string",
        "enum": ["TPSAK", "ARENA"],
        "description": "Kilden for vedtaket"
      },
      "barnetillegg": {
        "type": "object",
        "properties": {
          "perioder": {
            "type": "array",
            "items": { "$ref": "#/$defs/barnetilleggperiode" }
          }
        }
      }
    },
    "required": ["vedtakId", "rettighet", "periode", "kilde"],
    "additionalProperties": false
  },
  "$defs": {
    "periode": {
      "type": "object",
      "required": ["fraOgMed", "tilOgMed"],
      "properties": {
        "fraOgMed": {
          "type": "string",
          "format": "date",
          "description": "Startdato på format YYYY-MM-DD"
        },
        "tilOgMed": {
          "type": "string",
          "format": "date",
          "description": "Sluttdato på format YYYY-MM-DD"
        }
      }
    },
    "barnetilleggperiode": {
      "type": "object",
      "required": ["antallBarn", "periode"],
      "properties": {
        "antallBarn": {
          "type": "integer",
          "description": "Antall barn"
        },
        "periode": {
          "$ref": "#/$defs/periode"
        }
      }
    }
  }
}